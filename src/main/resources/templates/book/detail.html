<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Book Detail</title>
</head>
<body>
<h1>Book Detail</h1>
<div>
    <strong>Title:</strong> <span th:text="${book.title}">Title</span>
</div>
<div>
    <strong>Summary:</strong> <span th:text="${book.summary}">Summary</span>
</div>
<div>
    <strong>Author:</strong> <span th:text="${book.author}">Author</span>
</div>
<div>
    <strong>Publisher:</strong> <span th:text="${book.publisher}">Publisher</span>
</div>
<div>
    <strong>Recommended Age:</strong> <span th:text="${book.recommendedAge}">Age</span>
</div>
<a href="/books">Back to List</a>

<h2>Leave Feedback</h2>
<form th:action="@{/feedback}" method="post">
    <input type="hidden" name="bookId" th:value="${book.bookId}" />
<!--    <input type="hidden" name="userId" th:value="${user.id}" /> &lt;!&ndash; 사용자 ID가 필요함 &ndash;&gt;-->

    <label>
        <input type="radio" name="liked" value="true" required /> Like
    </label>
    <label>
        <input type="radio" name="liked" value="false" required /> Dislike
    </label>

    <button type="submit">Submit Feedback</button>
</form>

<h2>Edit Book</h2>
<form th:action="@{/books/update/{id}(id=${book.bookId})}" method="post">
    <div>
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" th:value="${book.title}" required />
    </div>
    <div>
        <label for="summary">Summary:</label>
        <textarea id="summary" name="summary" required th:text="${book.summary}"></textarea>
    </div>
    <div>
        <label for="author">Author:</label>
        <input type="text" id="author" name="author" th:value="${book.author}" required />
    </div>
    <div>
        <label for="publisher">Publisher:</label>
        <input type="text" id="publisher" name="publisher" th:value="${book.publisher}" required />
    </div>
    <div>
        <label for="recommendedAge">Recommended Age:</label>
        <input type="number" id="recommendedAge" name="recommendedAge" th:value="${book.recommendedAge}" required />
    </div>
    <button type="submit">Save Changes</button>
</form>

<h2>Delete Book</h2>
<form th:action="@{/books/delete/{id}(id=${book.bookId})}" method="post">
    <button type="submit" onclick="return confirm('Are you sure you want to delete this book?');">Delete Book</button>
</form>
</body>
</html>
